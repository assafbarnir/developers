<p>If you don’t want to use URL mapping to automatically translate pages, you need to give users a way to manually change languages. This simple widget allows users to translate the page by simply selecting a language from the menu.</p>

<p>In the Javascript snippet below, we have provided some common configuration options. If these options don’t meet your needs, you should change the HTML/CSS/JS source code as needed.</p>

<p>You can find all of the source code on our <a href="https://github.com/Qordobacode/language-switcher-js-sdk/tree/master"> Github page </a>.</p>

<h3 id="html">HTML</h3>

<p>Create a new anchor tag with the same structure for each language you offer, and ensure the language codes are correct.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;!-- Insert into &lt;head&gt; and change src/href paths as needed --&gt;
&lt;link rel="stylesheet" type="text/css" href="./main.css"&gt;
&lt;script src='./main.js' type="text/javascript"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src='http://qcdn.qordoba.com/qordoba-latest.min.js'&gt;&lt;/script&gt;


&lt;!-- Insert directly into &lt;body&gt; --&gt;
&lt;div class="qordoba-dropdown"&gt;
  &lt;button onclick="toggleDropdown()" class='qordoba-dropbtn'&gt; Select language &lt;/button&gt;
    &lt;div id='qordoba-myDropdown' class='qordoba-dropdown-content'&gt;
      &lt;!--Create another &lt;a&gt; tag for each of your languages --&gt;
      &lt;a onclick='handleSelect(this)' selected='selected' data-langcode='en-us'&gt;
      English
      &lt;/a&gt;
      &lt;a onclick='handleSelect(this)' data-langcode='de-de'&gt;
      German
      &lt;/a&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
</div>

<h3 id="css">CSS</h3>

<p>Basic styling and positioning for the dropdown menu.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* Dropdown Button */
.qordoba-dropbtn {
    background-color: #4CAF50;
    color: white;
    padding: 16px;
    font-size: 10px;
    border: none;
    cursor: pointer;
    font-family: sans-serif;
}

/* The container &lt;div&gt; - needed to position the dropdown content */
.qordoba-dropdown {
    position: relative;
    display: inline-block;
    font-family: sans-serif;
}

/* Dropdown Content (Hidden by Default) */
.qordoba-dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
    font-size: 10px;
}

/* Links inside the dropdown */
.qordoba-dropdown-content a {
    color: black;
    padding: 12px 16px;
    display: block;
}

/* Change color of dropdown links on hover */
.qordoba-dropdown-content a:hover {background-color: #f1f1f1}

/* Show the dropdown menu */
.qordoba-show {display:block;}

/* Position the dropdown menu */
.qordoba-topLeft{ 
  position: absolute;
  top: 0px;
  left: 0px;
} 

.qordoba-topRight{ 
  position: absolute;
  top: 0px;
  right: 0px;
}
</code></pre>
</div>

<h3 id="javascript">Javascript</h3>

<p>Javascript to render the dropdown and attach necessary event listeners. Configuration options are available to you here.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/*
  Config options:
    flag: true OR false
    location: topLeft, topRight
    refreshPageOnTranslation: true OR false
    dropdownColor: Any color (default: green)
    dropdownTextColor: ''
*/

var config = {
  flag: true,
  location: 'topLeft',
  refreshPageOnTranslation: true,
  dropdownColor: '',
  dropdownTextColor: ''
}

var checkForFlags = () =&gt; {
  if (config.flag) {
    var languageOptions = document.querySelector('#qordoba-myDropdown').children;

    for (var i = 0; i &lt; languageOptions.length; i++) {
      var countryCode = languageOptions[i].dataset.langcode.split('-')[1];
      var flagToBeAppended = document.createElement('img');

      flagToBeAppended.src = `https://raw.githubusercontent.com/tkrotoff/famfamfam_flags/master/${countryCode}.png`;
      flagToBeAppended.align = 'right';

      languageOptions[i].appendChild(flagToBeAppended);
    }
  }
}

var setDropdownPosition = () =&gt; {
  var dropdown = document.getElementsByClassName('qordoba-dropdown')[0];

  dropdown.classList.add(`qordoba-${config.location}`);

  if (config.location.slice(0,3) === 'top') {
    document.body.style.paddingTop = `${dropdown.clientHeight}px`
  }
  else {
    document.body.style.paddingBottom = `${dropdown.clientHeight}px`
  }
}

var setDropdownColor = () =&gt; {
  var dropdownButton = document.getElementsByClassName('qordoba-dropbtn')[0];
  if (config.dropdownColor.length) {
    dropdownButton.style.backgroundColor = config.dropdownColor;
  }
  if (config.dropdownTextColor.length) {
    dropdownButton.style.color = config.dropdownTextColor;
  }
}

var handleSelect = (context) =&gt; {
  if (!Qordoba) {
    console.error('Qordoba SDK not foundd')
  }
  else {
    Qordoba.translate(context.dataset.langcode, config.refreshPageOnTranslation)
  }
}

/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
var toggleDropdown = () =&gt; {
    document.getElementById("qordoba-myDropdown").classList.toggle("qordoba-show");
}

// Close the dropdown menu if the user clicks outside of it
window.onclick = (event) =&gt; {
  if (!event.target.matches('.qordoba-dropbtn')) {

    var dropdowns = document.getElementsByClassName("qordoba-dropdown-content");
    var i;
    for (i = 0; i &lt; dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('qordoba-show')) {
        openDropdown.classList.remove('qordoba-show');
      }
    }
  }
}

var init = () =&gt; {
  checkForFlags();
  setDropdownPosition();
  setDropdownColor();
}

document.addEventListener('DOMContentLoaded', () =&gt; {
  init()
});
</code></pre>
</div>
