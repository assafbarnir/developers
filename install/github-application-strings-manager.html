<p>Qordoba can easily be provisioned to Kubernetes cluster using the following steps:</p>

<ol>
  <li>
    <p><strong>Initial setup</strong></p>

    <p>Download or clone the following repo:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>git clone git@github.com:Qordoba/qordoba-dist-kubernetes.git
 <span class="nv">$ </span><span class="nb">cd </span>qordoba-dist-kubernetes
</code></pre>
    </div>
    <p>If you want to run Kubernetes locally, please follow the <a href="https://github.com/Qordoba/qordoba-dist-kubernetes/blob/master/minikube/README.md">README</a> 
 and use the manifest files provided in <code class="highlighter-rouge">minikube</code> directory.</p>

    <p>Skip to step 3 if you have already provisioned a cluster and registered it
 with Kubernetes.</p>

    <p>Note: Included manifest files in repo only support Qordoba v0.11.x, for 0.10.x
 please use the <a href="https://github.com/Qordoba/qordoba-dist-kubernetes/tree/1.0.0">tag 1.0.0</a>.</p>
  </li>
  <li>
    <p><strong>Deploy a GKE cluster</strong></p>

    <p>You need <a href="https://cloud.google.com/sdk/">gcloud</a> and <a href="https://cloud.google.com/container-engine/docs/quickstart#install_the_gcloud_command-line_interface">kubectl</a>
command-line tools installed and set up to run deployment commands. Also
make sure your Google Cloud account has <code class="highlighter-rouge">STATIC_ADDRESSES</code> available for
the external access of Qordoba services.</p>

    <p>Using the <code class="highlighter-rouge">cluster.yaml</code> file from this repo, deploy a
GKE cluster. Provide the following information before deploying:</p>

    <ol>
      <li>Desired cluster name</li>
      <li>Zone in which to run the cluster</li>
      <li>A basicauth username and password for authenticating the access to the
cluster</li>
    </ol>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>gcloud deployment-manager deployments <span class="se">\ </span>
    create cluster --config cluster.yaml
</code></pre>
    </div>

    <p>By now, you have provisioned a Kubernetes managed cluster.</p>
  </li>
  <li>
    <p><strong>Deploy a Qordoba supported database</strong></p>

    <p>Before deploying Qordoba, you need to provision a Cassandra or PostgreSQL pod.</p>

    <p>For Cassandra, use the <code class="highlighter-rouge">cassandra.yaml</code> file from this repo to deploy a
 Cassandra <code class="highlighter-rouge">Service</code> and a <code class="highlighter-rouge">StatefulSet</code> in the cluster:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl create -f cassandra.yaml
</code></pre>
    </div>
    <p>Note: Please update the <code class="highlighter-rouge">cassandra.yaml</code> file for the cloud you are working
 with.</p>

    <p>For PostgreSQL, use the <code class="highlighter-rouge">postgres.yaml</code> file from the qordoba-dist-kubernetes 
 repo to deploy a PostgreSQL <code class="highlighter-rouge">Service</code> and a <code class="highlighter-rouge">ReplicationController</code> in the
 cluster:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl create -f postgres.yaml
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>Prepare database</strong></p>

    <p>Using the <code class="highlighter-rouge">qordoba_migration_&lt;postgres|cassandra&gt;.yaml</code> file from this repo,
 run the migration job, jump to step 5 if Qordoba migrations are up–to–date:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl create -f qordoba_migration_&lt;postgres|cassandra&gt;.yaml
</code></pre>
    </div>
    <p>Once job completes, you can remove the pod by running following command:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl delete -f qordoba_migration_&lt;postgres|cassandra&gt;.yaml
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>Deploy Qordoba</strong></p>

    <p>Using the <code class="highlighter-rouge">qordoba_&lt;postgres|cassandra&gt;.yaml</code> file from this
 repo, deploy Qordoba admin, proxy services, and a <code class="highlighter-rouge">Deployment</code> controller to
 the cluster:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl create -f qordoba_&lt;postgres|cassandra&gt;.yaml
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>Verify your deployments</strong></p>

    <p>You can now see the resources that have been deployed using <code class="highlighter-rouge">kubectl</code>:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>kubectl get all
</code></pre>
    </div>

    <p>Once the <code class="highlighter-rouge">EXTERNAL_IP</code> is available for Qordoba Proxy and Admin services, you
 can test Qordoba by making the following requests:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="nv">$ </span>curl &lt;qordoba-admin-ip-address&gt;:8001
 <span class="nv">$ </span>curl https://&lt;admin-ssl-ip-address&gt;:8444
 <span class="nv">$ </span>curl &lt;qordoba-proxy-ip-address&gt;:8000
 <span class="nv">$ </span>curl https://&lt;qordoba-proxy-ssl-ip-address&gt;:8443
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>Using Qordoba</strong></p>

    <p>Quickly learn how to use Qordoba with the 
 <a href="/docs/latest/getting-started/quickstart/">5-minute Quickstart</a>.</p>
  </li>
</ol>
